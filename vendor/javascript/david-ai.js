// david-ai@1.0.6 downloaded from https://ga.jspm.io/npm:david-ai@1.0.6/dist/david-ai.esm.js

let e=false;let t=null;function loadPopperJs(){if(e)return t;e=true;t=new Promise(((e,t)=>{if(window.Popper){e(window.Popper);return}const n=document.createElement("script");n.src="https://unpkg.com/@popperjs/core@2";n.defer=true;n.onload=()=>{e(window.Popper)};n.onerror=()=>{t(new Error("Failed to load Popper.js"))};document.head.appendChild(n)}));return t}const n=new WeakSet;function closeAlert(e){const t=e.currentTarget;const n=t.closest('[role="alert"]');n&&n.remove()}function initAlert(){document.querySelectorAll("[data-dui-dismiss='alert']").forEach((e=>{if(!n.has(e)){e.addEventListener("click",closeAlert);n.add(e)}}))}typeof window!=="undefined"&&document.addEventListener("DOMContentLoaded",(()=>{initAlert();const e=new MutationObserver((()=>{initAlert()}));e.observe(document.body,{childList:true,subtree:true})}));const i=new WeakSet;function changeMainImage(e){const t=e.currentTarget;const n=document.querySelector("[data-main-image]");if(n){n.src=t.src;document.querySelectorAll("[data-thumbnail]").forEach((e=>{e.classList.remove("active-thumbnail")}));t.classList.add("active-thumbnail")}}function initGallery(){document.querySelectorAll("[data-thumbnail]").forEach((e=>{if(!i.has(e)){e.addEventListener("click",changeMainImage);i.add(e)}}))}function cleanupGallery(){document.querySelectorAll("[data-thumbnail]").forEach((e=>{if(i.has(e)){e.removeEventListener("click",changeMainImage);i.delete(e)}}))}typeof window!=="undefined"&&document.addEventListener("DOMContentLoaded",(()=>{initGallery();const e=new MutationObserver((()=>{initGallery()}));e.observe(document.body,{childList:true,subtree:true})}));const o=new WeakSet;
/**
 * Toggles the visibility of a collapsible element.
 * @param event - The click event triggering the toggle.
 */function toggleCollapse(e){const t=e.currentTarget;if(!t)return;const n=t.getAttribute("data-dui-target");if(n&&n.startsWith("#")){const e=document.querySelector(n);const i=t.getAttribute("aria-expanded")==="true";if(e){e.style.maxHeight=i?"0":`${e.scrollHeight}px`;t.setAttribute("aria-expanded",`${!i}`);const n=t.querySelector("[data-dui-icon]");n&&n.classList.toggle("rotate-180",!i)}}}function initCollapse(){document.querySelectorAll("[data-dui-toggle='collapse']").forEach((e=>{if(!o.has(e)){e.addEventListener("click",toggleCollapse);o.add(e)}}))}typeof window!=="undefined"&&document.addEventListener("DOMContentLoaded",(()=>{initCollapse();const e=new MutationObserver((()=>{initCollapse()}));e.observe(document.body,{childList:true,subtree:true})}));class Collapse{
/**
     * Creates an instance of Collapse.
     * @param button - The button element or its selector controlling the collapsible content.
     * @param collapseElement - The collapsible content element or its selector.
     * @param config - Configuration options for the collapse.
     */
constructor(e,t,n={}){this.button=this.resolveElement(e,"Button element not found");this.collapseElement=this.resolveElement(t,"Collapsible content element not found");this.config=n;this.init()}
/**
     * Resolves an element from an HTMLElement or selector string.
     * @param elementOrSelector - HTMLElement or a selector string.
     * @param errorMessage - Error message if the element is not found.
     * @returns The resolved HTMLElement.
     */resolveElement(e,t){if(typeof e==="string"){const n=document.querySelector(e);if(!n)throw new Error(t);return n}if(e instanceof HTMLElement)return e;throw new Error(t)}init(){this.button.addEventListener("click",(()=>this.toggle()))}toggle(){const e=this.button.getAttribute("aria-expanded")==="true";this.collapseElement.style.maxHeight=e?"0":`${this.collapseElement.scrollHeight}px`;this.button.setAttribute("aria-expanded",`${!e}`);if(this.config.iconSelector){const t=document.querySelector(this.config.iconSelector);t&&t.classList.toggle("rotate-180",!e)}}expand(){this.collapseElement.style.maxHeight=`${this.collapseElement.scrollHeight}px`;this.button.setAttribute("aria-expanded","true");if(this.config.iconSelector){const e=document.querySelector(this.config.iconSelector);e&&e.classList.add("rotate-180")}}collapse(){this.collapseElement.style.maxHeight="0";this.button.setAttribute("aria-expanded","false");if(this.config.iconSelector){const e=document.querySelector(this.config.iconSelector);e&&e.classList.remove("rotate-180")}}}function __awaiter(e,t,n,i){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(i.next(e))}catch(e){o(e)}}function rejected(e){try{step(i.throw(e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())}))}typeof SuppressedError==="function"?SuppressedError:function(e,t,n){var i=new Error(n);return i.name="SuppressedError",i.error=e,i.suppressed=t,i};var r="top";var a="bottom";var s="right";var l="left";var c="auto";var d=[r,a,s,l];var u="start";var p="end";var f="clippingParents";var h="viewport";var v="popper";var m="reference";var g=d.reduce((function(e,t){return e.concat([t+"-"+u,t+"-"+p])}),[]);var y=[].concat(d,[c]).reduce((function(e,t){return e.concat([t,t+"-"+u,t+"-"+p])}),[]);var b="beforeRead";var w="read";var E="afterRead";var S="beforeMain";var L="main";var A="afterMain";var x="beforeWrite";var O="write";var C="afterWrite";var k=[b,w,E,S,L,A,x,O,C];function getNodeName(e){return e?(e.nodeName||"").toLowerCase():null}function getWindow(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function isElement(e){var t=getWindow(e).Element;return e instanceof t||e instanceof Element}function isHTMLElement(e){var t=getWindow(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function isShadowRoot(e){if(typeof ShadowRoot==="undefined")return false;var t=getWindow(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function applyStyles(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{};var i=t.attributes[e]||{};var o=t.elements[e];if(isHTMLElement(o)&&getNodeName(o)){Object.assign(o.style,n);Object.keys(i).forEach((function(e){var t=i[e];t===false?o.removeAttribute(e):o.setAttribute(e,t===true?"":t)}))}}))}function effect$2(e){var t=e.state;var n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper);t.styles=n;t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow);return function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e];var o=t.attributes[e]||{};var r=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]);var a=r.reduce((function(e,t){e[t]="";return e}),{});if(isHTMLElement(i)&&getNodeName(i)){Object.assign(i.style,a);Object.keys(o).forEach((function(e){i.removeAttribute(e)}))}}))}}var T={name:"applyStyles",enabled:true,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(e){return e.split("-")[0]}var P=Math.max;var M=Math.min;var D=Math.round;function getUAString(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(e,t,n){t===void 0&&(t=false);n===void 0&&(n=false);var i=e.getBoundingClientRect();var o=1;var r=1;if(t&&isHTMLElement(e)){o=e.offsetWidth>0&&D(i.width)/e.offsetWidth||1;r=e.offsetHeight>0&&D(i.height)/e.offsetHeight||1}var a=isElement(e)?getWindow(e):window,s=a.visualViewport;var l=!isLayoutViewport()&&n;var c=(i.left+(l&&s?s.offsetLeft:0))/o;var d=(i.top+(l&&s?s.offsetTop:0))/r;var u=i.width/o;var p=i.height/r;return{width:u,height:p,top:d,right:c+u,bottom:d+p,left:c,x:c,y:d}}function getLayoutRect(e){var t=getBoundingClientRect(e);var n=e.offsetWidth;var i=e.offsetHeight;Math.abs(t.width-n)<=1&&(n=t.width);Math.abs(t.height-i)<=1&&(i=t.height);return{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function contains(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return true;if(n&&isShadowRoot(n)){var i=t;do{if(i&&e.isSameNode(i))return true;i=i.parentNode||i.host}while(i)}return false}function getComputedStyle(e){return getWindow(e).getComputedStyle(e)}function isTableElement(e){return["table","td","th"].indexOf(getNodeName(e))>=0}function getDocumentElement(e){return((isElement(e)?e.ownerDocument:e.document)||window.document).documentElement}function getParentNode(e){return getNodeName(e)==="html"?e:e.assignedSlot||e.parentNode||(isShadowRoot(e)?e.host:null)||getDocumentElement(e)}function getTrueOffsetParent(e){return isHTMLElement(e)&&getComputedStyle(e).position!=="fixed"?e.offsetParent:null}function getContainingBlock(e){var t=/firefox/i.test(getUAString());var n=/Trident/i.test(getUAString());if(n&&isHTMLElement(e)){var i=getComputedStyle(e);if(i.position==="fixed")return null}var o=getParentNode(e);isShadowRoot(o)&&(o=o.host);while(isHTMLElement(o)&&["html","body"].indexOf(getNodeName(o))<0){var r=getComputedStyle(o);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||t&&r.willChange==="filter"||t&&r.filter&&r.filter!=="none")return o;o=o.parentNode}return null}function getOffsetParent(e){var t=getWindow(e);var n=getTrueOffsetParent(e);while(n&&isTableElement(n)&&getComputedStyle(n).position==="static")n=getTrueOffsetParent(n);return n&&(getNodeName(n)==="html"||getNodeName(n)==="body"&&getComputedStyle(n).position==="static")?t:n||getContainingBlock(e)||t}function getMainAxisFromPlacement(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function within(e,t,n){return P(e,M(t,n))}function withinMaxClamp(e,t,n){var i=within(e,t,n);return i>n?n:i}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(e){return Object.assign({},getFreshSideObject(),e)}function expandToHashMap(e,t){return t.reduce((function(t,n){t[n]=e;return t}),{})}var B=function toPaddingObject(e,t){e=typeof e==="function"?e(Object.assign({},t.rects,{placement:t.placement})):e;return mergePaddingObject(typeof e!=="number"?e:expandToHashMap(e,d))};function arrow(e){var t;var n=e.state,i=e.name,o=e.options;var c=n.elements.arrow;var d=n.modifiersData.popperOffsets;var u=getBasePlacement(n.placement);var p=getMainAxisFromPlacement(u);var f=[l,s].indexOf(u)>=0;var h=f?"height":"width";if(c&&d){var v=B(o.padding,n);var m=getLayoutRect(c);var g=p==="y"?r:l;var y=p==="y"?a:s;var b=n.rects.reference[h]+n.rects.reference[p]-d[p]-n.rects.popper[h];var w=d[p]-n.rects.reference[p];var E=getOffsetParent(c);var S=E?p==="y"?E.clientHeight||0:E.clientWidth||0:0;var L=b/2-w/2;var A=v[g];var x=S-m[h]-v[y];var O=S/2-m[h]/2+L;var C=within(A,O,x);var k=p;n.modifiersData[i]=(t={},t[k]=C,t.centerOffset=C-O,t)}}function effect$1(e){var t=e.state,n=e.options;var i=n.element,o=i===void 0?"[data-popper-arrow]":i;if(o!=null){if(typeof o==="string"){o=t.elements.popper.querySelector(o);if(!o)return}contains(t.elements.popper,o)&&(t.elements.arrow=o)}}var q={name:"arrow",enabled:true,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(e){return e.split("-")[1]}var I={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(e,t){var n=e.x,i=e.y;var o=t.devicePixelRatio||1;return{x:D(n*o)/o||0,y:D(i*o)/o||0}}function mapToStyles(e){var t;var n=e.popper,i=e.popperRect,o=e.placement,c=e.variation,d=e.offsets,u=e.position,f=e.gpuAcceleration,h=e.adaptive,v=e.roundOffsets,m=e.isFixed;var g=d.x,y=g===void 0?0:g,b=d.y,w=b===void 0?0:b;var E=typeof v==="function"?v({x:y,y:w}):{x:y,y:w};y=E.x;w=E.y;var S=d.hasOwnProperty("x");var L=d.hasOwnProperty("y");var A=l;var x=r;var O=window;if(h){var C=getOffsetParent(n);var k="clientHeight";var T="clientWidth";if(C===getWindow(n)){C=getDocumentElement(n);if(getComputedStyle(C).position!=="static"&&u==="absolute"){k="scrollHeight";T="scrollWidth"}}C;if(o===r||(o===l||o===s)&&c===p){x=a;var P=m&&C===O&&O.visualViewport?O.visualViewport.height:C[k];w-=P-i.height;w*=f?1:-1}if(o===l||(o===r||o===a)&&c===p){A=s;var M=m&&C===O&&O.visualViewport?O.visualViewport.width:C[T];y-=M-i.width;y*=f?1:-1}}var D=Object.assign({position:u},h&&I);var B=v===true?roundOffsetsByDPR({x:y,y:w},getWindow(n)):{x:y,y:w};y=B.x;w=B.y;if(f){var q;return Object.assign({},D,(q={},q[x]=L?"0":"",q[A]=S?"0":"",q.transform=(O.devicePixelRatio||1)<=1?"translate("+y+"px, "+w+"px)":"translate3d("+y+"px, "+w+"px, 0)",q))}return Object.assign({},D,(t={},t[x]=L?w+"px":"",t[A]=S?y+"px":"",t.transform="",t))}function computeStyles(e){var t=e.state,n=e.options;var i=n.gpuAcceleration,o=i===void 0||i,r=n.adaptive,a=r===void 0||r,s=n.roundOffsets,l=s===void 0||s;var c={placement:getBasePlacement(t.placement),variation:getVariation(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,mapToStyles(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l}))));t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,mapToStyles(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:false,roundOffsets:l}))));t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var H={name:"computeStyles",enabled:true,phase:"beforeWrite",fn:computeStyles,data:{}};var _={passive:true};function effect(e){var t=e.state,n=e.instance,i=e.options;var o=i.scroll,r=o===void 0||o,a=i.resize,s=a===void 0||a;var l=getWindow(t.elements.popper);var c=[].concat(t.scrollParents.reference,t.scrollParents.popper);r&&c.forEach((function(e){e.addEventListener("scroll",n.update,_)}));s&&l.addEventListener("resize",n.update,_);return function(){r&&c.forEach((function(e){e.removeEventListener("scroll",n.update,_)}));s&&l.removeEventListener("resize",n.update,_)}}var W={name:"eventListeners",enabled:true,phase:"write",fn:function fn(){},effect:effect,data:{}};var N={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(e){return e.replace(/left|right|bottom|top/g,(function(e){return N[e]}))}var R={start:"end",end:"start"};function getOppositeVariationPlacement(e){return e.replace(/start|end/g,(function(e){return R[e]}))}function getWindowScroll(e){var t=getWindow(e);var n=t.pageXOffset;var i=t.pageYOffset;return{scrollLeft:n,scrollTop:i}}function getWindowScrollBarX(e){return getBoundingClientRect(getDocumentElement(e)).left+getWindowScroll(e).scrollLeft}function getViewportRect(e,t){var n=getWindow(e);var i=getDocumentElement(e);var o=n.visualViewport;var r=i.clientWidth;var a=i.clientHeight;var s=0;var l=0;if(o){r=o.width;a=o.height;var c=isLayoutViewport();if(c||!c&&t==="fixed"){s=o.offsetLeft;l=o.offsetTop}}return{width:r,height:a,x:s+getWindowScrollBarX(e),y:l}}function getDocumentRect(e){var t;var n=getDocumentElement(e);var i=getWindowScroll(e);var o=(t=e.ownerDocument)==null?void 0:t.body;var r=P(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0);var a=P(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);var s=-i.scrollLeft+getWindowScrollBarX(e);var l=-i.scrollTop;getComputedStyle(o||n).direction==="rtl"&&(s+=P(n.clientWidth,o?o.clientWidth:0)-r);return{width:r,height:a,x:s,y:l}}function isScrollParent(e){var t=getComputedStyle(e),n=t.overflow,i=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}function getScrollParent(e){return["html","body","#document"].indexOf(getNodeName(e))>=0?e.ownerDocument.body:isHTMLElement(e)&&isScrollParent(e)?e:getScrollParent(getParentNode(e))}function listScrollParents(e,t){var n;t===void 0&&(t=[]);var i=getScrollParent(e);var o=i===((n=e.ownerDocument)==null?void 0:n.body);var r=getWindow(i);var a=o?[r].concat(r.visualViewport||[],isScrollParent(i)?i:[]):i;var s=t.concat(a);return o?s:s.concat(listScrollParents(getParentNode(a)))}function rectToClientRect(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function getInnerBoundingClientRect(e,t){var n=getBoundingClientRect(e,false,t==="fixed");n.top=n.top+e.clientTop;n.left=n.left+e.clientLeft;n.bottom=n.top+e.clientHeight;n.right=n.left+e.clientWidth;n.width=e.clientWidth;n.height=e.clientHeight;n.x=n.left;n.y=n.top;return n}function getClientRectFromMixedType(e,t,n){return t===h?rectToClientRect(getViewportRect(e,n)):isElement(t)?getInnerBoundingClientRect(t,n):rectToClientRect(getDocumentRect(getDocumentElement(e)))}function getClippingParents(e){var t=listScrollParents(getParentNode(e));var n=["absolute","fixed"].indexOf(getComputedStyle(e).position)>=0;var i=n&&isHTMLElement(e)?getOffsetParent(e):e;return isElement(i)?t.filter((function(e){return isElement(e)&&contains(e,i)&&getNodeName(e)!=="body"})):[]}function getClippingRect(e,t,n,i){var o=t==="clippingParents"?getClippingParents(e):[].concat(t);var r=[].concat(o,[n]);var a=r[0];var s=r.reduce((function(t,n){var o=getClientRectFromMixedType(e,n,i);t.top=P(o.top,t.top);t.right=M(o.right,t.right);t.bottom=M(o.bottom,t.bottom);t.left=P(o.left,t.left);return t}),getClientRectFromMixedType(e,a,i));s.width=s.right-s.left;s.height=s.bottom-s.top;s.x=s.left;s.y=s.top;return s}function computeOffsets(e){var t=e.reference,n=e.element,i=e.placement;var o=i?getBasePlacement(i):null;var c=i?getVariation(i):null;var d=t.x+t.width/2-n.width/2;var f=t.y+t.height/2-n.height/2;var h;switch(o){case r:h={x:d,y:t.y-n.height};break;case a:h={x:d,y:t.y+t.height};break;case s:h={x:t.x+t.width,y:f};break;case l:h={x:t.x-n.width,y:f};break;default:h={x:t.x,y:t.y}}var v=o?getMainAxisFromPlacement(o):null;if(v!=null){var m=v==="y"?"height":"width";switch(c){case u:h[v]=h[v]-(t[m]/2-n[m]/2);break;case p:h[v]=h[v]+(t[m]/2-n[m]/2);break}}return h}function detectOverflow(e,t){t===void 0&&(t={});var n=t,i=n.placement,o=i===void 0?e.placement:i,l=n.strategy,c=l===void 0?e.strategy:l,u=n.boundary,p=u===void 0?f:u,g=n.rootBoundary,y=g===void 0?h:g,b=n.elementContext,w=b===void 0?v:b,E=n.altBoundary,S=E!==void 0&&E,L=n.padding,A=L===void 0?0:L;var x=mergePaddingObject(typeof A!=="number"?A:expandToHashMap(A,d));var O=w===v?m:v;var C=e.rects.popper;var k=e.elements[S?O:w];var T=getClippingRect(isElement(k)?k:k.contextElement||getDocumentElement(e.elements.popper),p,y,c);var P=getBoundingClientRect(e.elements.reference);var M=computeOffsets({reference:P,element:C,strategy:"absolute",placement:o});var D=rectToClientRect(Object.assign({},C,M));var B=w===v?D:P;var q={top:T.top-B.top+x.top,bottom:B.bottom-T.bottom+x.bottom,left:T.left-B.left+x.left,right:B.right-T.right+x.right};var I=e.modifiersData.offset;if(w===v&&I){var H=I[o];Object.keys(q).forEach((function(e){var t=[s,a].indexOf(e)>=0?1:-1;var n=[r,a].indexOf(e)>=0?"y":"x";q[e]+=H[n]*t}))}return q}function computeAutoPlacement(e,t){t===void 0&&(t={});var n=t,i=n.placement,o=n.boundary,r=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?y:l;var u=getVariation(i);var p=u?s?g:g.filter((function(e){return getVariation(e)===u})):d;var f=p.filter((function(e){return c.indexOf(e)>=0}));f.length===0&&(f=p);var h=f.reduce((function(t,n){t[n]=detectOverflow(e,{placement:n,boundary:o,rootBoundary:r,padding:a})[getBasePlacement(n)];return t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}function getExpandedFallbackPlacements(e){if(getBasePlacement(e)===c)return[];var t=getOppositePlacement(e);return[getOppositeVariationPlacement(e),t,getOppositeVariationPlacement(t)]}function flip(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){var o=n.mainAxis,d=o===void 0||o,p=n.altAxis,f=p===void 0||p,h=n.fallbackPlacements,v=n.padding,m=n.boundary,g=n.rootBoundary,y=n.altBoundary,b=n.flipVariations,w=b===void 0||b,E=n.allowedAutoPlacements;var S=t.options.placement;var L=getBasePlacement(S);var A=L===S;var x=h||(A||!w?[getOppositePlacement(S)]:getExpandedFallbackPlacements(S));var O=[S].concat(x).reduce((function(e,n){return e.concat(getBasePlacement(n)===c?computeAutoPlacement(t,{placement:n,boundary:m,rootBoundary:g,padding:v,flipVariations:w,allowedAutoPlacements:E}):n)}),[]);var C=t.rects.reference;var k=t.rects.popper;var T=new Map;var P=true;var M=O[0];for(var D=0;D<O.length;D++){var B=O[D];var q=getBasePlacement(B);var I=getVariation(B)===u;var H=[r,a].indexOf(q)>=0;var _=H?"width":"height";var W=detectOverflow(t,{placement:B,boundary:m,rootBoundary:g,altBoundary:y,padding:v});var N=H?I?s:l:I?a:r;C[_]>k[_]&&(N=getOppositePlacement(N));var R=getOppositePlacement(N);var j=[];d&&j.push(W[q]<=0);f&&j.push(W[N]<=0,W[R]<=0);if(j.every((function(e){return e}))){M=B;P=false;break}T.set(B,j)}if(P){var V=w?3:1;var F=function _loop(e){var t=O.find((function(t){var n=T.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t){M=t;return"break"}};for(var $=V;$>0;$--){var G=F($);if(G==="break")break}}if(t.placement!==M){t.modifiersData[i]._skip=true;t.placement=M;t.reset=true}}}var j={name:"flip",enabled:true,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:false}};function getSideOffsets(e,t,n){n===void 0&&(n={x:0,y:0});return{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function isAnySideFullyClipped(e){return[r,s,a,l].some((function(t){return e[t]>=0}))}function hide(e){var t=e.state,n=e.name;var i=t.rects.reference;var o=t.rects.popper;var r=t.modifiersData.preventOverflow;var a=detectOverflow(t,{elementContext:"reference"});var s=detectOverflow(t,{altBoundary:true});var l=getSideOffsets(a,i);var c=getSideOffsets(s,o,r);var d=isAnySideFullyClipped(l);var u=isAnySideFullyClipped(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u};t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}var V={name:"hide",enabled:true,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(e,t,n){var i=getBasePlacement(e);var o=[l,r].indexOf(i)>=0?-1:1;var a=typeof n==="function"?n(Object.assign({},t,{placement:e})):n,c=a[0],d=a[1];c=c||0;d=(d||0)*o;return[l,s].indexOf(i)>=0?{x:d,y:c}:{x:c,y:d}}function offset(e){var t=e.state,n=e.options,i=e.name;var o=n.offset,r=o===void 0?[0,0]:o;var a=y.reduce((function(e,n){e[n]=distanceAndSkiddingToXY(n,t.rects,r);return e}),{});var s=a[t.placement],l=s.x,c=s.y;if(t.modifiersData.popperOffsets!=null){t.modifiersData.popperOffsets.x+=l;t.modifiersData.popperOffsets.y+=c}t.modifiersData[i]=a}var F={name:"offset",enabled:true,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(e){var t=e.state,n=e.name;t.modifiersData[n]=computeOffsets({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var $={name:"popperOffsets",enabled:true,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(e){return e==="x"?"y":"x"}function preventOverflow(e){var t=e.state,n=e.options,i=e.name;var o=n.mainAxis,c=o===void 0||o,d=n.altAxis,p=d!==void 0&&d,f=n.boundary,h=n.rootBoundary,v=n.altBoundary,m=n.padding,g=n.tether,y=g===void 0||g,b=n.tetherOffset,w=b===void 0?0:b;var E=detectOverflow(t,{boundary:f,rootBoundary:h,padding:m,altBoundary:v});var S=getBasePlacement(t.placement);var L=getVariation(t.placement);var A=!L;var x=getMainAxisFromPlacement(S);var O=getAltAxis(x);var C=t.modifiersData.popperOffsets;var k=t.rects.reference;var T=t.rects.popper;var D=typeof w==="function"?w(Object.assign({},t.rects,{placement:t.placement})):w;var B=typeof D==="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D);var q=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null;var I={x:0,y:0};if(C){if(c){var H;var _=x==="y"?r:l;var W=x==="y"?a:s;var N=x==="y"?"height":"width";var R=C[x];var j=R+E[_];var V=R-E[W];var F=y?-T[N]/2:0;var $=L===u?k[N]:T[N];var G=L===u?-T[N]:-k[N];var z=t.elements.arrow;var J=y&&z?getLayoutRect(z):{width:0,height:0};var X=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:getFreshSideObject();var U=X[_];var Y=X[W];var K=within(0,k[N],J[N]);var Q=A?k[N]/2-F-K-U-B.mainAxis:$-K-U-B.mainAxis;var Z=A?-k[N]/2+F+K+Y+B.mainAxis:G+K+Y+B.mainAxis;var ee=t.elements.arrow&&getOffsetParent(t.elements.arrow);var te=ee?x==="y"?ee.clientTop||0:ee.clientLeft||0:0;var ne=(H=q==null?void 0:q[x])!=null?H:0;var ie=R+Q-ne-te;var oe=R+Z-ne;var re=within(y?M(j,ie):j,R,y?P(V,oe):V);C[x]=re;I[x]=re-R}if(p){var ae;var se=x==="x"?r:l;var le=x==="x"?a:s;var ce=C[O];var de=O==="y"?"height":"width";var ue=ce+E[se];var pe=ce-E[le];var fe=[r,l].indexOf(S)!==-1;var he=(ae=q==null?void 0:q[O])!=null?ae:0;var ve=fe?ue:ce-k[de]-T[de]-he+B.altAxis;var me=fe?ce+k[de]+T[de]-he-B.altAxis:pe;var ge=y&&fe?withinMaxClamp(ve,ce,me):within(y?ve:ue,ce,y?me:pe);C[O]=ge;I[O]=ge-ce}t.modifiersData[i]=I}}var G={name:"preventOverflow",enabled:true,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function getNodeScroll(e){return e!==getWindow(e)&&isHTMLElement(e)?getHTMLElementScroll(e):getWindowScroll(e)}function isElementScaled(e){var t=e.getBoundingClientRect();var n=D(t.width)/e.offsetWidth||1;var i=D(t.height)/e.offsetHeight||1;return n!==1||i!==1}function getCompositeRect(e,t,n){n===void 0&&(n=false);var i=isHTMLElement(t);var o=isHTMLElement(t)&&isElementScaled(t);var r=getDocumentElement(t);var a=getBoundingClientRect(e,o,n);var s={scrollLeft:0,scrollTop:0};var l={x:0,y:0};if(i||!i&&!n){(getNodeName(t)!=="body"||isScrollParent(r))&&(s=getNodeScroll(t));if(isHTMLElement(t)){l=getBoundingClientRect(t,true);l.x+=t.clientLeft;l.y+=t.clientTop}else r&&(l.x=getWindowScrollBarX(r))}return{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function order(e){var t=new Map;var n=new Set;var i=[];e.forEach((function(e){t.set(e.name,e)}));function sort(e){n.add(e.name);var o=[].concat(e.requires||[],e.requiresIfExists||[]);o.forEach((function(e){if(!n.has(e)){var i=t.get(e);i&&sort(i)}}));i.push(e)}e.forEach((function(e){n.has(e.name)||sort(e)}));return i}function orderModifiers(e){var t=order(e);return k.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}function debounce(e){var t;return function(){t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0;n(e())}))})));return t}}function mergeByName(e){var t=e.reduce((function(e,t){var n=e[t.name];e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t;return e}),{});return Object.keys(t).map((function(e){return t[e]}))}var z={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&typeof e.getBoundingClientRect==="function")}))}function popperGenerator(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,i=n===void 0?[]:n,o=t.defaultOptions,r=o===void 0?z:o;return function createPopper(e,t,n){n===void 0&&(n=r);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},z,r),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}};var a=[];var s=false;var l={state:o,setOptions:function setOptions(n){var a=typeof n==="function"?n(o.options):n;cleanupModifierEffects();o.options=Object.assign({},r,o.options,a);o.scrollParents={reference:isElement(e)?listScrollParents(e):e.contextElement?listScrollParents(e.contextElement):[],popper:listScrollParents(t)};var s=orderModifiers(mergeByName([].concat(i,o.options.modifiers)));o.orderedModifiers=s.filter((function(e){return e.enabled}));runModifierEffects();return l.update()},forceUpdate:function forceUpdate(){if(!s){var e=o.elements,t=e.reference,n=e.popper;if(areValidElements(t,n)){o.rects={reference:getCompositeRect(t,getOffsetParent(n),o.options.strategy==="fixed"),popper:getLayoutRect(n)};o.reset=false;o.placement=o.options.placement;o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<o.orderedModifiers.length;i++)if(o.reset!==true){var r=o.orderedModifiers[i],a=r.fn,c=r.options,d=c===void 0?{}:c,u=r.name;typeof a==="function"&&(o=a({state:o,options:d,name:u,instance:l})||o)}else{o.reset=false;i=-1}}}},update:debounce((function(){return new Promise((function(e){l.forceUpdate();e(o)}))})),destroy:function destroy(){cleanupModifierEffects();s=true}};if(!areValidElements(e,t))return l;l.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)}));function runModifierEffects(){o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=n===void 0?{}:n,r=e.effect;if(typeof r==="function"){var s=r({state:o,name:t,instance:l,options:i});var c=function noopFn(){};a.push(s||c)}}))}function cleanupModifierEffects(){a.forEach((function(e){return e()}));a=[]}return l}}var J=[W,$,H,T,F,j,G,q,V];var X=popperGenerator({defaultModifiers:J});const U=new WeakSet;let Y=[];let K=class Dropdown{constructor(e){this.popperInstance=null;this.dropdown=e;this.button=this.dropdown.querySelector('[data-dui-toggle="dropdown"]');this.menu=this.dropdown.querySelector('[data-dui-role="menu"]');this.placement=this.dropdown.getAttribute("data-dui-placement")||"bottom-start";this.init()}init(){return __awaiter(this,void 0,void 0,(function*(){yield loadPopperJs();this.popperInstance=X(this.button,this.menu,{placement:this.placement,modifiers:[{name:"offset",options:{offset:[0,5]}}]});this.button.addEventListener("click",(e=>{e.stopPropagation();this.toggleDropdown()}));document.addEventListener("click",(e=>{this.dropdown.contains(e.target)||this.closeDropdown()}));Y.push({dropdown:this.dropdown,popperInstance:this.popperInstance})}))}toggleDropdown(){const e=this.button.getAttribute("aria-expanded")==="true";e?this.closeDropdown():this.openDropdown()}openDropdown(){this.button.setAttribute("aria-expanded","true");this.menu.hidden=false;this.menu.classList.remove("hidden");this.popperInstance&&this.popperInstance.update()}closeDropdown(){this.button.setAttribute("aria-expanded","false");this.menu.hidden=true;this.menu.classList.add("hidden")}};function initDropdowns(){document.querySelectorAll(".dropdown").forEach((e=>{if(!U.has(e)){new K(e);U.add(e)}}))}function cleanupDropdowns(){Y.forEach((({dropdown:e,popperInstance:t})=>{t&&t.destroy();e&&U.delete(e)}));Y=[]}function loadAndInitDropdowns(){return __awaiter(this,void 0,void 0,(function*(){yield loadPopperJs();initDropdowns()}))}typeof window!=="undefined"&&typeof document!=="undefined"&&document.addEventListener("DOMContentLoaded",(()=>{loadAndInitDropdowns();const e=new MutationObserver((()=>{initDropdowns()}));e.observe(document.body,{childList:true,subtree:true})}));class Dropdown{
/**
     * Creates an instance of Dropdown.
     * @param reference - The element or selector to position the dropdown menu relative to.
     * @param menu - The menu element to display as the dropdown.
     * @param config - Configuration options for the dropdown.
     */
constructor(e,t,n){var i;this.popperInstance=null;this.isOpen=false;this.shouldIgnoreClick=false;this.referenceElement=this.resolveElement(e,"Reference element not found");this.menu=this.resolveElement(t,"Menu element not found");this.config={placement:n.placement||"bottom-start",closeOnOutsideClick:(i=n.closeOnOutsideClick)===null||i===void 0||i,offset:n.offset||[0,5]};this.documentClickHandler=this.handleDocumentClick.bind(this);this.init()}
/**
     * Resolves an element from an HTMLElement or selector string.
     * @param elementOrSelector - HTMLElement or a selector string.
     * @param errorMessage - Error message if the element is not found.
     * @returns The resolved HTMLElement.
     */resolveElement(e,t){if(typeof e==="string"){const n=document.querySelector(e);if(!n)throw new Error(t);return n}if(e instanceof HTMLElement)return e;throw new Error(t)}handleDocumentClick(e){this.shouldIgnoreClick?this.shouldIgnoreClick=false:this.menu.contains(e.target)||this.referenceElement.contains(e.target)||this.close()}init(){return __awaiter(this,void 0,void 0,(function*(){yield loadPopperJs();this.popperInstance=X(this.referenceElement,this.menu,{placement:this.config.placement,modifiers:[{name:"offset",options:{offset:this.config.offset}}]});this.config.closeOnOutsideClick&&document.addEventListener("click",this.documentClickHandler)}))}preventOutsideClick(){this.shouldIgnoreClick=true}toggle(){this.isOpen?this.close():this.open()}open(){var e;if(!this.isOpen){this.menu.hidden=false;this.menu.classList.remove("hidden");(e=this.popperInstance)===null||e===void 0?void 0:e.update();this.isOpen=true}}close(){if(this.isOpen){this.menu.hidden=true;this.menu.classList.add("hidden");this.isOpen=false}}destroy(){var e;(e=this.popperInstance)===null||e===void 0?void 0:e.destroy();this.popperInstance=null;document.removeEventListener("click",this.documentClickHandler)}}const Q=new WeakSet;let Z=[];function initPopovers(){document.querySelectorAll("[data-dui-toggle='popover']").forEach((e=>{var t;if(Q.has(e))return;const n=e.getAttribute("data-dui-placement")||"top";const i=e.getAttribute("data-dui-popover-class")||"popover-default";const o=e.getAttribute("data-dui-popover-content");const r=e.hasAttribute("data-dui-open");let a=null;let s=null;let l=null;let c=null;const d=((t=e.nextElementSibling)===null||t===void 0?void 0:t.matches("[data-dui-popover-content]"))?e.nextElementSibling:null;function openPopover(){return __awaiter(this,void 0,void 0,(function*(){yield loadPopperJs();l=document.createElement("div");l.className=i;if(d){c=d.cloneNode(true);c.classList.remove("hidden");l.appendChild(c)}else{if(!o){console.error("No content provided for popover:",e);return}l.textContent=o}document.body.appendChild(l);a=X(e,l,{placement:n,modifiers:[{name:"offset",options:{offset:[0,8]}}]});requestAnimationFrame((()=>{if(l){l.style.opacity="1";l.style.transform="scale(1)";a===null||a===void 0?void 0:a.update()}}));a&&Z.push({trigger:e,popoverElement:l,popperInstance:s})}))}function closePopover(){if(a){a.destroy();a=null}if(l){l.remove();l=null}c&&c.classList.add("hidden");Z=Z.filter((t=>t.trigger!==e))}e.addEventListener("click",(e=>{e.stopPropagation();a?closePopover():openPopover()}));r&&openPopover();Q.add(e)}))}function cleanupPopovers(){Z.forEach((({popoverElement:e,popperInstance:t})=>{t&&t.destroy();e&&e.remove()}));Z=[]}function loadAndInitPopovers(){return __awaiter(this,void 0,void 0,(function*(){yield loadPopperJs();initPopovers()}))}typeof window!=="undefined"&&typeof document!=="undefined"&&document.addEventListener("DOMContentLoaded",(()=>{loadAndInitPopovers();const e=new MutationObserver((()=>{initPopovers()}));e.observe(document.body,{childList:true,subtree:true})}));class Popover{
/**
     * Creates an instance of Popover.
     * @param trigger - The element that triggers the popover.
     * @param config - Configuration options for the popover.
     */
constructor(e,t){this.popperInstance=null;this.popoverElement=null;this.trigger=e;this.config={placement:t.placement||"top",popoverClass:t.popoverClass||"popover-default",content:t.content||"",openByDefault:t.openByDefault||false,offset:t.offset||[0,8]};this.init()}init(){return __awaiter(this,void 0,void 0,(function*(){this.config.openByDefault&&(yield this.open());this.trigger.addEventListener("click",this.handleTriggerClick.bind(this))}))}
/**
     * Handles the click event on the trigger element.
     * @param event - The click event.
     */handleTriggerClick(e){e.stopPropagation();this.toggle()}open(){return __awaiter(this,void 0,void 0,(function*(){if(!this.popoverElement){yield loadPopperJs();this.popoverElement=document.createElement("div");this.popoverElement.className=this.config.popoverClass||"popover-default";if(typeof this.config.content==="string")this.popoverElement.textContent=this.config.content;else{if(!(this.config.content instanceof HTMLElement)){console.error("Invalid content provided for popover:",this.trigger);return}this.popoverElement.appendChild(this.config.content)}document.body.appendChild(this.popoverElement);this.popperInstance=X(this.trigger,this.popoverElement,{placement:this.config.placement,modifiers:[{name:"offset",options:{offset:this.config.offset}}]});requestAnimationFrame((()=>{var e;if(this.popoverElement){this.popoverElement.style.opacity="1";this.popoverElement.style.transform="scale(1)";(e=this.popperInstance)===null||e===void 0?void 0:e.update()}}))}}))}close(){if(this.popperInstance&&this.popoverElement){this.popperInstance.destroy();this.popperInstance=null;this.popoverElement.remove();this.popoverElement=null}}toggle(){this.popoverElement?this.close():this.open()}destroy(){this.close();this.trigger.removeEventListener("click",this.handleTriggerClick.bind(this))}}const ee=new WeakSet;let te=[];function initTooltips(){document.querySelectorAll("[data-dui-toggle='tooltip']").forEach((e=>{var t;if(ee.has(e))return;const n=e.getAttribute("data-dui-title")||"";const i=e.getAttribute("data-dui-placement")||"top";const o=e.getAttribute("data-dui-tooltip-class")||"tooltip-default";let r=null;let a=null;let s=null;((t=e.nextElementSibling)===null||t===void 0?void 0:t.matches("[data-dui-tooltip-content]"))&&(s=e.nextElementSibling);function showTooltip(){return __awaiter(this,void 0,void 0,(function*(){if(!a){yield loadPopperJs();a=document.createElement("div");a.className=o;if(s){const e=s.cloneNode(true);e.classList.remove("hidden");a.appendChild(e)}else{if(!n){console.warn("No tooltip content provided for:",e);return}a.textContent=n}document.body.appendChild(a);r=X(e,a,{placement:i,modifiers:[{name:"offset",options:{offset:[0,8]}}]});te.push({trigger:e,tooltipElement:a,tooltipInstance:r})}}))}function hideTooltip(){if(r){r.destroy();r=null}if(a){a.remove();a=null}te=te.filter((t=>t.trigger!==e))}e.addEventListener("mouseenter",showTooltip);e.addEventListener("mouseleave",hideTooltip);ee.add(e)}))}function cleanupTooltips(){te.forEach((({tooltipElement:e,tooltipInstance:t})=>{t&&t.destroy();e&&e.remove()}));te=[]}function loadAndInitTooltips(){return __awaiter(this,void 0,void 0,(function*(){yield loadPopperJs();initTooltips()}))}typeof window!=="undefined"&&typeof document!=="undefined"&&document.addEventListener("DOMContentLoaded",(()=>{loadAndInitTooltips();const e=new MutationObserver((()=>{initTooltips()}));e.observe(document.body,{childList:true,subtree:true})}));class Tooltip{constructor(e,t={}){this.tooltipElement=null;this.tooltipInstance=null;this.triggerElement=e;this.options={placement:t.placement||"top",tooltipClass:t.tooltipClass||"tooltip-default",content:t.content||""};this.init()}init(){return __awaiter(this,void 0,void 0,(function*(){yield loadPopperJs();this.triggerElement.addEventListener("mouseenter",this.showTooltip.bind(this));this.triggerElement.addEventListener("mouseleave",this.hideTooltip.bind(this))}))}showTooltip(){return __awaiter(this,void 0,void 0,(function*(){if(!this.tooltipElement){this.tooltipElement=document.createElement("div");this.tooltipElement.className=this.options.tooltipClass;if(typeof this.options.content==="string")this.tooltipElement.textContent=this.options.content;else{if(!(this.options.content instanceof HTMLElement)){console.warn("No valid content provided for tooltip.");return}{const e=this.options.content.cloneNode(true);e.classList.remove("hidden");this.tooltipElement.appendChild(e)}}document.body.appendChild(this.tooltipElement);this.tooltipInstance=X(this.triggerElement,this.tooltipElement,{placement:this.options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})}}))}hideTooltip(){if(this.tooltipInstance){this.tooltipInstance.destroy();this.tooltipInstance=null}if(this.tooltipElement){this.tooltipElement.remove();this.tooltipElement=null}}destroy(){this.triggerElement.removeEventListener("mouseenter",this.showTooltip.bind(this));this.triggerElement.removeEventListener("mouseleave",this.hideTooltip.bind(this));this.hideTooltip()}}const ne=new WeakSet;function initTabs(){document.querySelectorAll(".tab-group").forEach((e=>{if(ne.has(e))return;const t=e.querySelector("[role='tablist']");const n=(t===null||t===void 0?void 0:t.querySelectorAll(".tab-link"))||[];const i=e.querySelectorAll(".tab-content");const o=t===null||t===void 0?void 0:t.querySelector(".tab-indicator");const r=e.getAttribute("data-dui-orientation")==="vertical";
/**
         * Updates the indicator's position dynamically.
         * @param link The active tab link element.
         */function updateIndicator(e){const n=e.getBoundingClientRect();const i=t===null||t===void 0?void 0:t.getBoundingClientRect();i&&o&&requestAnimationFrame((()=>{if(r){o.style.transform=`translateY(${n.top-i.top}px)`;o.style.height=`${n.height}px`}else{o.style.transform=`translateX(${n.left-i.left}px)`;o.style.width=`${n.width}px`}o.classList.remove("hidden");o.style.opacity="1";o.style.scale="1"}))}
/**
         * Activates the specified tab.
         * @param link The tab link element to activate.
         */function activateTab(e){n.forEach((e=>e.classList.remove("active")));i.forEach((e=>{e.classList.add("hidden");e.classList.remove("block")}));e.classList.add("active");const t=e.getAttribute("data-dui-tab-target");const o=t?document.getElementById(t):null;if(o){o.classList.add("block");o.classList.remove("hidden")}updateIndicator(e)}function initializeTabGroup(){const e=t===null||t===void 0?void 0:t.querySelector(".tab-link.active");e?activateTab(e):n.length>0&&activateTab(n[0]);n.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();activateTab(e)}))}))}initializeTabGroup();ne.add(e)}))}function cleanupTabs(){document.querySelectorAll(".tab-group").forEach((e=>{if(ne.has(e)){const t=e.querySelector("[role='tablist']");const n=(t===null||t===void 0?void 0:t.querySelectorAll(".tab-link"))||[];n.forEach((e=>{if(e.parentNode){const t=e.cloneNode(true);e.parentNode.replaceChild(t,e)}}));ne.delete(e)}}))}typeof window!=="undefined"&&document.addEventListener("DOMContentLoaded",(()=>{initTabs();const e=new MutationObserver((()=>{initTabs()}));e.observe(document.body,{childList:true,subtree:true})}));const ie=new WeakSet;class Tabs{
/**
     * Creates a new Tabs instance.
     * @param tabGroup - The container element of the tab group.
     * @param options - Configuration options for the tabs.
     */
constructor(e,t={orientation:"horizontal"}){var n,i,o;if(ie.has(e))throw new Error("This tab group is already initialized.");this.tabGroup=e;this.tabList=e.querySelector("[role='tablist']");this.tabLinks=Array.from(((n=this.tabList)===null||n===void 0?void 0:n.querySelectorAll(".tab-link"))||[]);this.tabContents=Array.from(e.querySelectorAll(".tab-content"));this.indicator=((i=this.tabList)===null||i===void 0?void 0:i.querySelector(".tab-indicator"))||null;this.orientation=t.orientation||"horizontal";this.defaultTabId=t.defaultTabId||((o=this.tabLinks[0])===null||o===void 0?void 0:o.id)||"tab1";this.initialize();ie.add(e)}initialize(){var e;const t=this.tabLinks.find((e=>e.id===this.defaultTabId));const n=t||((e=this.tabList)===null||e===void 0?void 0:e.querySelector(".tab-link.active"))||this.tabLinks[0];if(n){this.tabLinks.forEach((e=>e.classList.remove("active")));this.tabContents.forEach((e=>{e.classList.add("hidden");e.classList.remove("block")}));setTimeout((()=>{this.activateTab(n.id)}),300)}this.tabLinks.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();this.activateTab(e.id)}))}))}
/**
     * Updates the position of the tab indicator dynamically.
     * @param link - The active tab link element.
     */updateIndicator(e){var t;const n=e.getBoundingClientRect();const i=(t=this.tabList)===null||t===void 0?void 0:t.getBoundingClientRect();i&&this.indicator&&requestAnimationFrame((()=>{if(this.orientation==="vertical"){this.indicator.style.transform=`translateY(${n.top-i.top}px)`;this.indicator.style.height=`${n.height}px`}else{this.indicator.style.transform=`translateX(${n.left-i.left}px)`;this.indicator.style.width=`${n.width}px`}this.indicator.classList.remove("hidden");this.indicator.style.opacity="1";this.indicator.style.scale="1"}))}
/**
     * Activates the specified tab by its ID.
     * @param tabId - The ID of the tab to activate.
     */activateTab(e){const t=this.tabLinks.find((t=>t.id===e));const n=this.tabContents.find((t=>t.id===`${e}-content`));if(t&&n){this.tabLinks.forEach((e=>e.classList.remove("active")));this.tabContents.forEach((e=>{e.classList.add("hidden");e.classList.remove("block")}));t.classList.add("active");n.classList.add("block");n.classList.remove("hidden");this.updateIndicator(t)}else console.warn(`Tab or content with id ${e} not found`)}cleanup(){this.tabLinks.forEach((e=>{const t=e.cloneNode(true);e.replaceWith(t)}));ie.delete(this.tabGroup)}}let oe=new WeakSet;let re=[];function toggleModal(e){const t=e.currentTarget;if(!t)return;const n=t.getAttribute("data-dui-target");if(!n)return;const i=document.querySelector(n);if(!i)return;const o=i.classList.contains("pointer-events-none");i.classList.toggle("opacity-0",!o);i.classList.toggle("opacity-100",o);o?i.classList.remove("pointer-events-none"):setTimeout((()=>i.classList.add("pointer-events-none")),300);const r=i.querySelector(o?".scale-95":".scale-100");if(r){r.classList.toggle("scale-95",!o);r.classList.toggle("scale-100",o)}i.setAttribute("aria-hidden",String(!o));if(o){i.addEventListener("click",closeOnOutsideClick);re.push(i)}else{i.removeEventListener("click",closeOnOutsideClick);re=re.filter((e=>e!==i))}}function closeModal(e){let t=null;if(e instanceof Event){const n=e.currentTarget;if(!n)return;t=n.closest(".fixed")}else t=e;if(!t)return;t.classList.add("opacity-0");t.classList.remove("opacity-100");const n=t.querySelector(".scale-100");if(n){n.classList.add("scale-95");n.classList.remove("scale-100")}setTimeout((()=>{t.classList.add("pointer-events-none");t.setAttribute("aria-hidden","true")}),300);t.removeEventListener("click",closeOnOutsideClick);re=re.filter((e=>e!==t))}function closeOnOutsideClick(e){const t=e.currentTarget;if(!t)return;const n=t.querySelector(".scale-100, .scale-95");n&&(n.contains(e.target)||closeModal(t))}function initModal(){document.querySelectorAll("[data-dui-toggle='modal']").forEach((e=>{if(!oe.has(e)){e.addEventListener("click",toggleModal);oe.add(e)}}));document.querySelectorAll("[data-dui-dismiss='modal']").forEach((e=>{if(!oe.has(e)){e.addEventListener("click",closeModal);oe.add(e)}}))}function cleanupModals(){re.forEach((e=>{e.removeEventListener("click",closeOnOutsideClick)}));re=[];oe=new WeakSet}typeof window!=="undefined"&&typeof document!=="undefined"&&document.addEventListener("DOMContentLoaded",(()=>{initModal();const e=new MutationObserver((()=>{initModal()}));e.observe(document.body,{childList:true,subtree:true})}));class Modal{
/**
     * Initialize the modal.
     * @param {HTMLElement} modalElement - The modal element.
     * @param {ModalConfig} [config={}] - Configuration options for the modal.
     */
constructor(e,t={}){this._isVisible=false;
/**
         * Handle keydown events (e.g., Escape to close the modal).
         * @param {KeyboardEvent} event
         */this.handleKeydown=e=>{e.key==="Escape"&&this.hide()};
/**
         * Handle clicks outside the modal content to close the modal.
         * @param {MouseEvent} event
         */this.handleOutsideClick=e=>{const t=e.target;const n=this._modalElement.firstElementChild;n&&!n.contains(t)&&this.hide()};this._modalElement=e;this._config=Object.assign({keyboard:true,closeOnOutsideClick:true},t);this.setupModal();setTimeout((()=>{this.removeHiddenClass()}),300)}show(){if(!this._isVisible){this._isVisible=true;this._modalElement.classList.remove("opacity-0","pointer-events-none");this._modalElement.classList.add("opacity-100");this._modalElement.setAttribute("aria-hidden","false");this._config.keyboard&&document.addEventListener("keydown",this.handleKeydown);this._config.closeOnOutsideClick&&document.addEventListener("click",this.handleOutsideClick,true)}}hide(){if(this._isVisible){this._isVisible=false;this._modalElement.classList.add("opacity-0","pointer-events-none");this._modalElement.classList.remove("opacity-100");this._modalElement.setAttribute("aria-hidden","true");this._config.keyboard&&document.removeEventListener("keydown",this.handleKeydown);this._config.closeOnOutsideClick&&document.removeEventListener("click",this.handleOutsideClick,true)}}toggle(){this._isVisible?this.hide():this.show()}
/**
     * Check if the modal is currently visible.
     * @returns {boolean}
     */isVisible(){return this._isVisible}setupModal(){const e=this._modalElement.classList.contains("opacity-0")||this._modalElement.getAttribute("aria-hidden")==="true";this._isVisible=!e;if(e){this._modalElement.classList.add("opacity-0","pointer-events-none");this._modalElement.classList.remove("opacity-100")}else{this._modalElement.classList.remove("opacity-0","pointer-events-none");this._modalElement.classList.add("opacity-100")}this._modalElement.setAttribute("aria-hidden",String(e))}removeHiddenClass(){this._modalElement.classList.remove("hidden")}}const ae=new WeakSet;const handleIcons=(e,t,n=false)=>{const i=e.querySelector("[data-dui-accordion-icon-open]");const o=e.querySelector("[data-dui-accordion-icon-close]");const r=e.querySelector("[data-dui-accordion-icon]");if(i&&o){i.style.display=t?"block":"none";o.style.display=t?"none":"block"}r&&r.classList.toggle("rotate-180",n?t:!t)};const toggleAccordionState=(e,t,n)=>{e.style.maxHeight=n?`${e.scrollHeight}px`:"0";t.setAttribute("aria-expanded",String(n));handleIcons(t,n)};function toggleAccordion(e){const t=e.currentTarget;if(t.getAttribute("aria-disabled")==="true")return;const n=t.dataset.duiAccordionTarget;const i=t.closest("[data-dui-accordion-container]");const o=i===null||i===void 0?void 0:i.dataset.duiAccordionMode;if(n===null||n===void 0?void 0:n.startsWith("#")){const e=document.querySelector(n);const r=t.getAttribute("aria-expanded")==="true";o==="exclusive"&&i&&i.querySelectorAll("[data-dui-accordion-toggle]").forEach((e=>{const t=e.dataset.duiAccordionTarget;if(t&&t!==n){const n=document.querySelector(t);n instanceof HTMLElement&&toggleAccordionState(n,e,false)}}));e&&toggleAccordionState(e,t,!r)}}function toggleAccordionById(e){e=e.startsWith("#")?e:`#${e}`;const t=document.querySelector(e);const n=document.querySelector(`[data-dui-accordion-target="${e}"]`);if((n===null||n===void 0?void 0:n.getAttribute("aria-disabled"))==="true"||!t||!n)return;const i=n.getAttribute("aria-expanded")==="true";const o=n.closest("[data-dui-accordion-container]");const r=o===null||o===void 0?void 0:o.dataset.duiAccordionMode;r==="exclusive"&&o&&o.querySelectorAll("[data-dui-accordion-toggle]").forEach((t=>{const n=t.dataset.duiAccordionTarget;if(typeof n==="string"&&n!==e){const e=document.querySelector(n);e instanceof HTMLElement&&toggleAccordionState(e,t,false)}}));toggleAccordionState(t,n,!i)}function initAccordion(){document.querySelectorAll("[data-dui-accordion-toggle]").forEach((e=>{if(!ae.has(e)){e.addEventListener("click",toggleAccordion);ae.add(e);const t=e.dataset.duiAccordionTarget;if(typeof t==="string"){const n=document.querySelector(t);if(n instanceof HTMLElement){const t=e.getAttribute("aria-expanded")==="true";toggleAccordionState(n,e,t)}}}}))}function cleanupAccordions(){document.querySelectorAll("[data-dui-accordion-toggle]").forEach((e=>{if(ae.has(e)){e.removeEventListener("click",toggleAccordion);ae.delete(e)}}))}if(typeof window!=="undefined"){window.toggleAccordionById=toggleAccordionById;document.addEventListener("DOMContentLoaded",(()=>{initAccordion();new MutationObserver(initAccordion).observe(document.body,{childList:true,subtree:true})}))}class Accordion{constructor(e,t={}){this.initialized=new WeakSet;this.toggleHandler=e=>{const t=e.currentTarget;this.toggle(t)};this.container=e;this.options=t;this.init()}init(){const e=Array.from(this.container.children).filter((e=>e instanceof HTMLElement));e.forEach((e=>{const t=e.nextElementSibling;if(t){this.initialized.add(e);e.addEventListener("click",this.toggleHandler);const n=this.options.allOpen||false;this.setAccordionState(e,t,n)}}));this.options.allOpen&&this.showAll()}resolveElement(e){return typeof e==="string"?document.getElementById(e):e}toggle(e){const t=this.resolveElement(e);if(!t)return;const n=t.nextElementSibling;if(!n)return;const i=t.getAttribute("aria-expanded")==="true";this.options.exclusive&&Array.from(this.container.children).forEach((e=>{if(e instanceof HTMLElement&&e!==t){const t=e.nextElementSibling;t&&this.setAccordionState(e,t,false)}}));this.setAccordionState(t,n,!i)}show(e){const t=this.resolveElement(e);if(!t)return;const n=t.nextElementSibling;n&&this.setAccordionState(t,n,true)}hide(e){const t=this.resolveElement(e);if(!t)return;const n=t.nextElementSibling;n&&this.setAccordionState(t,n,false)}showAll(){Array.from(this.container.children).forEach((e=>{if(e instanceof HTMLElement){const t=e.nextElementSibling;t&&this.setAccordionState(e,t,true)}}))}hideAll(){Array.from(this.container.children).forEach((e=>{if(e instanceof HTMLElement){const t=e.nextElementSibling;t&&this.setAccordionState(e,t,false)}}))}cleanup(){Array.from(this.container.children).forEach((e=>{if(e instanceof HTMLElement&&this.initialized.has(e)){e.removeEventListener("click",this.toggleHandler);this.initialized.delete(e)}}))}setAccordionState(e,t,n){t.style.maxHeight=n?`${t.scrollHeight}px`:"0";e.setAttribute("aria-expanded",String(n));const i=e.querySelector("[data-dui-accordion-icon-open]");const o=e.querySelector("[data-dui-accordion-icon-close]");i&&(i.style.display=n?"block":"none");o&&(o.style.display=n?"none":"block");const r=e.querySelector("[data-dui-accordion-icon]");r&&r.classList.toggle("rotate-180",n)}}const se=new WeakSet;function updateStepperState(e){const t=e.querySelectorAll("[data-dui-step]");const n=e.querySelectorAll("[data-dui-step-content]");const i=e.querySelectorAll("[data-dui-stepper-prev]");const o=e.querySelectorAll("[data-dui-stepper-next]");let r=parseInt(e.getAttribute("data-dui-step")||"1",10);function updateState(){t.forEach(((e,t)=>{const n=t+1;e.setAttribute("data-active",String(n===r));e.setAttribute("data-completed",String(n<r));e.setAttribute("aria-disabled",String(n>r))}));n.forEach((e=>{const t=parseInt(e.getAttribute("data-dui-step-content")||"0",10);t===r?e.classList.remove("hidden"):e.classList.add("hidden")}));i.forEach((e=>{e.disabled=r===1}));o.forEach((e=>{e.disabled=r===t.length}))}function onNextButtonClick(){if(r<t.length){r++;e.setAttribute("data-dui-step",String(r));updateState()}}function onPrevButtonClick(){if(r>1){r--;e.setAttribute("data-dui-step",String(r));updateState()}}o.forEach((e=>{e.addEventListener("click",onNextButtonClick)}));i.forEach((e=>{e.addEventListener("click",onPrevButtonClick)}));e.__stepperCleanup=()=>{o.forEach((e=>{e.removeEventListener("click",onNextButtonClick)}));i.forEach((e=>{e.removeEventListener("click",onPrevButtonClick)}))};updateState()}function initStepper(){document.querySelectorAll("[data-dui-stepper-container]").forEach((e=>{if(!se.has(e)){se.add(e);const t=parseInt(e.getAttribute("data-dui-initial-step")||"1",10);e.setAttribute("data-dui-step",String(t));updateStepperState(e)}}))}function cleanupSteppers(){document.querySelectorAll("[data-dui-stepper-container]").forEach((e=>{if(e.__stepperCleanup){e.__stepperCleanup();delete e.__stepperCleanup}se.delete(e)}))}typeof window!=="undefined"&&document.addEventListener("DOMContentLoaded",(()=>{initStepper();new MutationObserver(initStepper).observe(document.body,{childList:true,subtree:true})}));class Stepper{constructor(e){this.steps=e.stepElements;this.contents=e.contentElements;this.prevButton=e.prevButton;this.nextButton=e.nextButton;this.currentStep=e.initialStep||1;this.updateState();this.prevButton.addEventListener("click",(()=>this.prev()));this.nextButton.addEventListener("click",(()=>this.next()))}updateState(){this.steps.forEach(((e,t)=>{const n=t+1;e.dataset.active=String(n===this.currentStep);e.dataset.completed=String(n<this.currentStep);e.setAttribute("aria-disabled",String(n>this.currentStep))}));this.contents.forEach(((e,t)=>{e.classList.toggle("hidden",t+1!==this.currentStep)}));this.prevButton.disabled=this.currentStep===1;this.nextButton.disabled=this.currentStep===this.steps.length}next(){if(this.currentStep<this.steps.length){this.currentStep++;this.updateState()}}prev(){if(this.currentStep>1){this.currentStep--;this.updateState()}}goToStep(e){if(e>=1&&e<=this.steps.length){this.currentStep=e;this.updateState()}}getCurrentStep(){return this.currentStep}destroy(){this.prevButton.removeEventListener("click",(()=>this.prev()));this.nextButton.removeEventListener("click",(()=>this.next()))}}const le={initAlert:initAlert,initCollapse:initCollapse,initDropdowns:initDropdowns,cleanupDropdowns:cleanupDropdowns,initPopovers:initPopovers,cleanupPopovers:cleanupPopovers,initTooltips:initTooltips,cleanupTooltips:cleanupTooltips,initTabs:initTabs,cleanupTabs:cleanupTabs,initModal:initModal,cleanupModals:cleanupModals,initAccordion:initAccordion,cleanupAccordions:cleanupAccordions,toggleAccordionById:toggleAccordionById,initStepper:initStepper,cleanupSteppers:cleanupSteppers,initGallery:initGallery,cleanupGallery:cleanupGallery};function initDavidAI(){initAlert();initCollapse();initTabs();initModal();initAccordion();initStepper();initGallery();loadPopperJs().then((()=>{initDropdowns();initPopovers();initTooltips()})).catch((e=>{console.error("Failed to load Popper.js:",e)}))}typeof window!=="undefined"&&typeof document!=="undefined"&&document.addEventListener("DOMContentLoaded",(()=>{initDavidAI();const e=new MutationObserver((()=>{initAlert();initCollapse();initAccordion();initStepper();initGallery();initTabs();initModal();initDropdowns();initPopovers();initTooltips()}));e.observe(document.body,{childList:true,subtree:true});window.DavidAI=Object.assign(Object.assign({},le),{initDavidAI:initDavidAI})}));var ce=Object.assign(Object.assign({},le),{initDavidAI:initDavidAI});export{Accordion,Collapse,le as DavidAI,Dropdown,Modal,Popover,Stepper,Tabs,Tooltip,cleanupAccordions,cleanupDropdowns,cleanupGallery,cleanupModals,cleanupPopovers,cleanupSteppers,cleanupTabs,cleanupTooltips,ce as default,initAccordion,initAlert,initCollapse,initDavidAI,initDropdowns,initGallery,initModal,initPopovers,initStepper,initTabs,initTooltips,toggleAccordionById};

